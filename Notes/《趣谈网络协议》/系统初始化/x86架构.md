# 系统初始化

## 计算机的工作模式是什么样的？

最核心的是 **CPU**，计算机的大脑，CPU 和其他设备连接，要靠**总线**，就是主板上密密麻麻的集成电路。
单靠 CPU 无法完成计算任务，需要将很多复杂的计算任务的中间结果保存下来，需要依赖**内存**

> CPU 和内存是完成计算任务的核心组件，所以这里我们重点介绍一下 CPU 和内存是如何配合工作的。

### CPU

CPU 其实也不是单纯的一块，它包括三个部分，运算单元、数据单元和控制单元。

#### 运算单元

只管算，例如做加法、做位移等等。但是，它不知道应该算哪些数据，运算结果应该放在哪里。

#### 数据单元

运算单元计算的数据如果每次都要经过总线，到内存里面现拿，这样就太慢了，所以就有了数据单元。数据单元包括 CPU 内部的缓存和寄存器组，空间很小，但是速度飞快，可以暂时存放数据和运算结果。

#### 控制单元

可以获得下一条指令，然后执行这条指令。这个指令会指导运算单元取出数据单元中的某几个数据，计算出个结果，然后放在数据单元的某个地方。

那 CPU 怎么执行这些程序，操作这些数据，产生一些结果，并写入回内存呢？

控制单元有一个**指令指针寄存器**，一条指令通常包含**操作码**和**操作数**，操作码规定指令的功能，操作数指明该条指令操作相关的数据，要执行这条指令，就要把第一部分交给运算单元，第二部分交给数据单元。

### 总线

CPU 和内存来来回回传数据，靠的都是总线。分为**地址总线**和**数据总线**。

#### 地址总线

地址总线传输数据在内存中的位置，地址总线的位数决定了能访问地址的范围。

#### 数据总线

数据总线传输真正的数据，位数决定了一次能拿多少数据进来。

## x86 架构

CPU 中总线位数没有标准的话，操作系统很难办，无法实现通用的运算逻辑。英特尔成为了行业的开放事实标准。由于这个系列开端于 8086，因此称为 x86 架构。

### 8086 原理
